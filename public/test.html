<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <title>OpenAI Soru Ãœretme Testi</title>
</head>
<body style="font-family:sans-serif; padding: 30px;">

  <h2>ğŸ“˜ GPT-3.5 Soru Ãœretici</h2>
  <p>Prompt girin ve <b>GPT'den cevap alÄ±n!</b></p>

  <textarea id="prompt" rows="5" cols="50" placeholder="Ã–rn: Bir ilginÃ§ tarih sorusu Ã¼ret."></textarea>
  <br><br>
  <button onclick="generate()">ğŸš€ Soru Ãœret</button>

  <hr>
  <div id="response" style="white-space:pre-wrap; background:#f9f9f9; padding:10px; border-radius:5px;"></div>

  <script>
    async function generate() {
      const prompt = document.getElementById("prompt").value;
      const responseDiv = document.getElementById("response");

      if (!prompt.trim()) {
        responseDiv.innerText = "âŒ LÃ¼tfen bir prompt girin.";
        return;
      }

      responseDiv.innerText = "â³ GPT'den cevap bekleniyor...";

      try {
        const res = await fetch("/openai", {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify({ prompt })
        });

        const data = await res.json();

        if (data.reply) {
          responseDiv.innerText = "âœ… Cevap:\n\n" + data.reply;
        } else {
          responseDiv.innerText = "âš ï¸ Hata: " + (data.error || "Bilinmeyen hata");
        }
      } catch (err) {
        responseDiv.innerText = "ğŸš« Sunucu hatasÄ±: " + err.message;
      }
    }
  </script>

</body>
</html>
